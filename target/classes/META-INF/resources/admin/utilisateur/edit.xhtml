<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:sec="http://www.springframework.org/security/tags" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:a="http://bootsfaces.net/ui">

<h:head>

  <!--HEADER CSS-->
  <ui:insert name = "header" >
    <ui:include src = "/fragments/header.xhtml" />
  </ui:insert>
  <!--HEADER CSS-->
</h:head>

<h:body>
  <!--NAV-->
  <ui:insert name = "nav" >
    <ui:include src = "/fragments/nav.xhtml" />
  </ui:insert>
  <!--NAV-->

  <!--CONTENT-->
  <div class="container" style="margin-top: 50px">
    <div >
      <h1 class="text-center" >USER </h1>

      <h:form id="frmAdduser" styleClass="form" style="margin: auto; width: 80%; padding: 10px; border-radius: 15px 0px 15px 0px ">
        <div class="row">
          <div class="form-group row col-sm-6 ">
            <h:inputHidden value="#{userController.user.id}" id="id" />
            <label for="matricule" class="col-4 col-form-label">Matricule</label>
            <div class="col-8">
              <h:inputText id="matricule" required="true" value="#{userController.user.matricule}" a:placeholder="Matricule"  styleClass="form-control" />
            </div>
          </div>
          <!--<div  class="form-group row col-sm-6 ">
            <label for="img" class="col-sm-4 col-form-label">Photo</label>
            <div class="col-sm-8">
              <h:inputText id="img" required="true" value="#{userController.user.img}" a:placeholder="Photo"  styleClass="form-control" />
            </div>
          </div>-->
          <div  class="form-group row col-sm-6 ">
            <label for="prenom" class="col-sm-4 col-form-label">Prenom</label>
            <div class="col-sm-8">
              <h:inputText id="prenom" required="true" value="#{userController.user.prenom}" a:placeholder="Prenom"  styleClass="form-control" />
            </div>
          </div>
        </div>
        <div class="row">

          <div  class="form-group row col-sm-6 ">
            <label for="nom" class="col-sm-4 col-form-label">Nom</label>
            <div class="col-sm-8">
              <h:inputText id="nom" required="true" value="#{userController.user.nom}" a:placeholder="Nom"  styleClass="form-control" />
            </div>
          </div>
          <div  class="form-group row col-sm-6 ">
            <label for="username" class="col-sm-4 col-form-label">Username</label>
            <div class="col-sm-8">
              <h:inputText id="username" required="true" value="#{userController.user.username}" a:placeholder="Username"  styleClass="form-control" />
            </div>
          </div>
        </div>
        <div class="row">

          <div  class="form-group row col-sm-6 ">
            <label for="password" class="col-sm-4 col-form-label">Password</label>
            <div class="col-sm-8">
              <h:inputText id="password" required="true" value="#{userController.user.password}" a:placeholder="Password"  styleClass="form-control" />
            </div>
          </div>
          <div  class="form-group row col-sm-6 ">
            <label for="service" class="col-sm-4 col-form-label">Service</label>
            <div class="col-sm-8">
              <h:selectOneMenu value="#{userController.user.service.id}" required="true" id="service" styleClass="form-control" >
                <f:selectItem itemValue="null" itemLabel="---Selectionner---"/>
                <f:selectItems value="#{userController.services}" var="service" itemValue="#{service.id}"  itemLabel="#{service.libelle}"/>
              </h:selectOneMenu>
            </div>
          </div>
        </div>
        <div class="row">

          <div  class="form-group row col-sm-6 ">
            <label for="role" class="col-sm-4 col-form-label">Role</label>
            <div class="col-sm-8">
              <h:selectManyListbox id="role"  value="#{userController.listRolesId}" >
                <f:selectItems value="#{userController.roles}" var="role" itemLabel="#{role.libelle}" itemValue="#{role.id}"/>
              </h:selectManyListbox>
            </div>
          </div>
        </div>

        <div class="row text-center" style="width: 100% ; margin: auto">
          <p:commandButton value="Mettre a jour" action="#{userController.addUser}" styleClass="btn btn-primary" style="margin: auto"  />
        </div>

      </h:form>


      <hr/>
    </div>

  </div>
  <!--CONTENT-->

  <!--FOOTER JS-->
  <ui:insert name = "footer" >
    <ui:include src = "/fragments/footer.xhtml" />
  </ui:insert>
  <!--FOOTER JS-->
</h:body>
</html>
